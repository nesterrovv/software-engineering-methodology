# План проверки удобства интерфейса (UI Usability)

## Цель
Проверить, что интерфейс соответствует требованиям по удобству использования и ключевые операции выполняются быстро, предсказуемо и без ошибок.

## Источники (Oracles)
- UC (Use Cases)
- SRS
- UI‑макеты/прототипы
- `TESTING_GUIDE.md` (подготовка данных и сценарии API)

## Роли и ключевые пользовательские потоки
### Сотрудник безопасности
- Мониторинг зала: запуск/остановка сессии, просмотр состояния.
- Контроль контактов: поиск подозрительных контактов, проверка частоты.
- База мошенников: добавление записи, поиск, проверка по фото/ID.
- Уведомления: создание, получение, отметка прочитанными.

### Менеджер
- Инциденты: регистрация инцидента, просмотр списка.
- Жалобы: создание, просмотр списка.
- Нарушения: создание, просмотр списка.
- Отчеты по инцидентам: создание, экспорт.

### Финансовый аналитик
- Кассовые операции: создание, просмотр списка.
- Сверка кассы: запуск, поиск результатов.
- Анализ игр: запуск анализа, поиск по столу.
- Аномалии: детекция, поиск, проверка.
- Финансовые отчеты: создание, скачивание CSV.

## Карта кликов (для критических операций)
Заполнить по итогам теста (целевой лимит: 2–3 клика).

| Операция | Путь от главного меню | Целевые клики | Факт | Комментарий |
| --- | --- | --- | --- | --- |
| UC2 Регистрация инцидента | Вход → Инциденты → Создать → Сохранить | ≤3 |  |  |
| Создание жалобы | Вход → Инциденты → Жалобы → Создать | ≤3 |  |  |
| Создание операции | Вход → Финансы → Операции → Создать | ≤3 |  |  |
| Сверка кассы | Вход → Финансы → Сверка → Запустить | ≤3 |  |  |
| Мониторинг зала | Вход → Безопасность → Мониторинг → Старт | ≤3 |  |  |

## Проверка скорости загрузки
Цель: ключевые страницы загружаются ≤ 1 сек.

Методика:
1. Открыть DevTools → вкладка Performance/Network.
2. Очистить кэш, загрузить страницу.
3. Зафиксировать `DOMContentLoaded` и `Load` (или TTI).
4. Повторить 3 раза, взять медиану.

Страницы для замера:
- `/login`
- `/` (главная вкладка после входа)
- `/staff`
- `/finance`
- `/security`
- `/incidents`

## Навигация и понятность
Чек‑лист:
- Меню доступно и отражает основные разделы.
- Частые операции доступны без “глубоких” вложений.
- Понятные подсказки полей ввода.
- Ошибки валидации читаемы и объясняют проблему.
- Хлебные крошки (если предусмотрены макетами).

## Таблицы и списки данных
Проверить:
- Отображение всех полей, соответствующих API.
- Сортировка, пагинация, фильтрация (если требуется в макетах/UC).
- Длинные значения (UUID, комментарии) не ломают верстку.
- Списки обновляются после операций (создание/поиск).

## Формы ввода
Проверить:
- Обязательные поля отмечены и блокируют отправку при пустом значении.
- Маски ввода для дат/времени, числовых полей.
- Сообщения об ошибках понятны и локализованы.
- Сохранение не теряет введенные данные при ошибке ответа.

## Кросс‑браузер и адаптивность
Браузеры:
- Chrome (latest)
- Firefox (latest)
- Edge (latest)

Разрешения:
- 1366×768 (HD)
- 1920×1080 (Full HD)
- 375×667 (мобильный)

Проверка:
- Нет наложения блоков.
- Компоненты корректно масштабируются.
- Списки не выходят за экран.

## Автоматизация (Page Object Model)
Текущая реализация и покрытие: `UI_AUTOMATION_COVERAGE.md`, тесты в `ui-tests/`.
### Рекомендуемая структура
```
ui-tests/
  pages/
    LoginPage
    StaffPage
    FinancePage
    SecurityPage
    IncidentsPage
  tests/
    login.spec
    staff.spec
    finance.spec
    security.spec
    incidents.spec
  helpers/
    selectors
    test-data
    screenshots
```

### Скрипты для критических сценариев
- Вход в систему.
- UC2: регистрация инцидента.
- Создание кассовой операции.
- Запуск сверки кассы.
- Детекция аномалий и получение списка.
- Создание уведомления и отметка прочитанным.

### Скриншоты при падении
- Снимать экран при каждом падении теста.
- Именовать файл по сценарию и времени.
- Хранить артефакты в `ui-tests/artifacts/`.

## Критерии успеха
- Основные операции выполняются за 2–3 клика.
- Время загрузки ключевых страниц ≤ 1 сек.
- Интерфейс корректен в Chrome/Firefox/Edge.
- Валидация показывает понятные сообщения об ошибках.
- Навигация интуитивно понятна.
- UI адаптируется под разные разрешения.
- Автоматизированные UI‑тесты покрывают ≥ 80% критических сценариев.
